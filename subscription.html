<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscription - Omega Business Credit Repair Service</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        header {
            background-color: #f2f2f2;
            padding: 20px;
            text-align: center;
        }
        .logo img {
            max-width: 200px;
        }
        main {
            padding: 20px;
            text-align: center;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .checkbox-container input[type="checkbox"] {
            margin-right: 10px;
            appearance: none;
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 3px;
            cursor: pointer;
        }
        .checkbox-container input[type="checkbox"]:checked {
            background-color: #007bff;
            border-color: #007bff;
        }
        .checkbox-container input[type="checkbox"]:checked::before {
            content: '\2713';
            display: block;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 14px;
        }
        .checkbox-container label {
            flex: 1;
        }
        .note {
            font-style: italic;
            color: #666;
        }
        footer {
            background-color: #333;
            color: #fff;
            padding: 20px;
            text-align: center;
        }
    </style>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        emailjs.init("9gydduA26qP4Do9xm"); // Replace with your EmailJS user ID

        function sendEmail(formDataObject) {
            // Add the trigger email address
            formDataObject['to_email'] = 'credit.service@creditprivacynumber.org';

            // Send email to client
            emailjs.send("service_xjqgy6v", "template_xg22lnh", formDataObject)
            .then(function(response) {
                console.log('SUCCESS! Email sent to client', response.status, response.text);
            }, function(error) {
                console.log('FAILED to send email to client', error);
            });

            // Send auto-reply email
            emailjs.send("service_xjqgy6v", "template_j7el58d", formDataObject)
            .then(function(response) {
                console.log('Auto-reply sent successfully!', response.status, response.text);
            }, function(error) {
                console.log('Failed to send auto-reply.', error);
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('subscriptionForm');

            form.addEventListener('submit', function (event) {
                event.preventDefault(); // Prevent default form submission

                // Gather form data
                const formData = new FormData(form);
                let formDataObject = {};
                formData.forEach(function (value, key) {
                    formDataObject[key] = value;
                });

                // Gather checkbox values
                const checkboxValues = [];
                document.querySelectorAll('input[name="services"]:checked').forEach(function (checkbox) {
                    checkboxValues.push(checkbox.value);
                });

                // Add checkbox values and total to the form data
                formDataObject['services'] = checkboxValues.join(', ');
                formDataObject['totalPrice'] = document.getElementById('totalPrice').innerText;

                // Call sendEmail function
                sendEmail(formDataObject);

                // Redirect to the acknowledgment page
                window.location.href = 'acknowledgment.html';
            });
        });
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="logo.png" alt="Omega Business Credit Repair Service" id="logo">
        </div>
    </header>

    <main class="subscription-form">
        <h1>Subscribe to Our Services</h1>
        <form id="subscriptionForm">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label>Services:</label>
                <div class="checkbox-container">
                    <input type="checkbox" id="loan" name="services" value="Business Loan Application Assistance - $800">
                    <label for="loan">Business Loan Application Assistance - $800</label>
                </div>
                <div class="checkbox-container">
                    <input type="checkbox" id="grant" name="services" value="Business Grant Application Assistance - $750">
                    <label for="grant">Business Grant Application Assistance - $750</label>
                </div>
                <div class="checkbox-container">
                    <input type="checkbox" id="website" name="services" value="Professional Website Building - $1500">
                    <label for="website">Professional Website Building - $1500</label>
                </div>
                <div class="checkbox-container">
                    <input type="checkbox" id="emailCreation" name="services" value="Professional Email Creation - $500">
                    <label for="emailCreation">Professional Email Creation - $500</label>
                </div>
                <div class="checkbox-container">
                    <input type="checkbox" id="phone" name="services" value="Professional Phone Number Creation - $450">
                    <label for="phone">Professional Phone Number Creation - $450</label>
                </div>
            </div>
            <div class="form-group">
                <p>Total: $<span id="totalPrice">0</span></p>
            </div>
            <div class="form-group">
                <button type="submit" class="start-button">Submit</button>
            </div>
        </form>
        <p class="note">We will only commence work when payment is confirmed. Thank you for choosing us!</p>
    </main>

    <footer>
        <p>&copy; 2024 Omega Business Credit Repair Service. All rights reserved.</p>
    </footer>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('subscriptionForm');
        const totalPriceElement = document.getElementById('totalPrice');

        // Function to calculate total price
        function calculateTotalPrice() {
            let totalPrice = 0;
            document.querySelectorAll('input[name="services"]:checked').forEach(function (checkbox) {
                totalPrice += parseFloat(checkbox.value.split(' - ')[1]);
            });
            totalPriceElement.innerText = totalPrice.toFixed(2);
        }

        // Event listener for checkboxes
        document.querySelectorAll('input[name="services"]').forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                calculateTotalPrice();
            });
        });

        // Event listener for form submission
        form.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent default form submission

            // Gather form data
            const formData = new FormData(form);
            let formDataObject = {};
            formData.forEach(function (value, key) {
                formDataObject[key] = value;
            });

            // Gather checkbox values
            const checkboxValues = [];
            document.querySelectorAll('input[name="services"]:checked').forEach(function (checkbox) {
                checkboxValues.push(checkbox.value);
            });

            // Add checkbox values and total to the form data
            formDataObject['services'] = checkboxValues.join(', ');
            formDataObject['totalPrice'] = totalPriceElement.innerText;

            // Call sendEmail function
            sendEmail(formDataObject);

            // Redirect to the acknowledgment page
            window.location.href = 'acknowledgment.html';
        });

        // Initial calculation of total price
        calculateTotalPrice();
    });
</script>

    <script src="scripts.js"></script>
</body>
</html>
